!function(){"use strict";function e(e){return()=>document.getElementById(e)}function t(e){return()=>document.getElementsByClassName(e)}var n={node0:e("node0"),node1:e("node1"),node2:e("node2"),node3:e("node3"),node4:e("node4"),edgesFrom0:t("edges-from-0"),edgesFrom1:t("edges-from-1"),edgesFrom2:t("edges-from-2"),edgesFrom3:t("edges-from-3"),edgesFrom4:t("edges-from-4"),answer_container:e("answer-container"),digit_keys:t("digit-key"),btn_0:e("btn-0"),btn_1:e("btn-1"),btn_2:e("btn-2"),btn_3:e("btn-3"),btn_4:e("btn-4"),btn_5:e("btn-5"),btn_6:e("btn-6"),btn_7:e("btn-7"),btn_8:e("btn-8"),btn_9:e("btn-9"),btn_clear:e("btn-clear"),operator_keys:t("operator-key"),btn_div:e("btn-div"),btn_mult:e("btn-mult"),btn_sub:e("btn-sub"),btn_add:e("btn-add"),btn_period:e("btn-period"),btn_equal:e("btn-equal"),finite_automata_diagram:e("finite-automata-diagram"),warning_tag:e("warning-tag")};function i(e){"dope".split("").forEach((t=>{"d"===t?-1!==e.indexOf(t)?(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove("disabled")})(n.digit_keys()):(e=>{for(let t=0;t<e.length;t++)e[t].classList.add("disabled")})(n.digit_keys()):"o"===t?-1!==e.indexOf(t)?(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove("disabled")})(n.operator_keys()):(e=>{for(let t=0;t<e.length;t++)e[t].classList.add("disabled")})(n.operator_keys()):"p"===t?-1!==e.indexOf(t)?n.btn_period().classList.remove("disabled"):n.btn_period().classList.add("disabled"):"e"===t&&(-1!==e.indexOf(t)?n.btn_equal().classList.remove("disabled"):n.btn_equal().classList.add("disabled"))}))}let o="highlighted-node",r="spotlight-node",d="highlighted-edge",a="spotlight-edge";function s(e){n[`node${e}`]().classList.add(o),(e=>{for(let t=0;t<e.length;t++)e[t].classList.add(d)})(n[`edgesFrom${e}`]()),function(e){n[`node${e}`]().classList.remove(r),(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove(a)})(n[`edgesFrom${e}`]())}(e)}function l(e){n[`node${e}`]().classList.remove(o),(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove(d)})(n[`edgesFrom${e}`]())}function c(e){for(let t=0;t<5;t++)t===e?s(e):l(t)}let u=0,b="",g=["digit"],f=!1;function p(){var e;n.warning_tag().innerText=`Expected input${1===(e=g).length?" is":"s are"} ${e.join(", ")}${1===e.length?" only":""}.`,f=!0,setTimeout((()=>{n.warning_tag().innerText="",f=!1}),1500);for(let e=0;e<12;e++)e%2==0?setTimeout((()=>{var e;n[`node${e=u}`]().classList.add(r),(e=>{for(let t=0;t<e.length;t++)e[t].classList.add(a)})(n[`edgesFrom${e}`]()),l(e)}),125*e):setTimeout((()=>{s(u)}),125*e)}function m(e){L(e),i("d"),u=0,c(u),g=["digit"]}function _(e,t){"d"===e?v(t):"o"===e?m(t):"p"===e?function(e){L(e),i("d"),u=2,c(u),g=["digit"]}(t):"e"===e?h():p()}function v(e){L(e),i("dope"),u=1,c(u),g=["digit","operator","period(.)","equal"]}function k(e){L(e),i("doe"),u=3,c(u),g=["digit","operator","equal"]}function h(){let e=new Function(`return ${b};`)();"number"==typeof e&&isFinite(e)&&!isNaN(e)?(b=String(Number(e.toFixed(6))),y(b),i("o"),u=4,c(u),g=["operator"]):(x(),alert("Mathematically impossible operation"))}function y(e){n.answer_container().innerHTML=null===e?"":`<span class="ans-element">${e}</span>`}function L(e){let t=document.createElement("span");var i;t.setAttribute("class","ans-element"),t.innerText="*"===e?"Ã—":e,(i=n.answer_container()).append(t),i.scrollLeft=i.scrollWidth,b+=e}function x(){b="",i("d"),u=0,c(u),g=["digit"],y(null)}function F(e){if(1===e.length&&!f){let t;-1!=="0123456789".indexOf(e)?t="d":-1!=="/*+-".indexOf(e)?t="o":"."===e?t="p":"="===e?t="e":"c"===e&&(t="c"),void 0!==t?"c"===t?x():0===u?function(e,t){"d"===e?v(t):p()}(t,e):1===u?_(t,e):2===u?function(e,t){"d"===e?k(t):p()}(t,e):3===u?function(e,t){"d"===e?k(t):"o"===e?m(t):"e"===e?h():p()}(t,e):4===u&&function(e,t){"o"===e?m(t):p()}(t,e):void 0===t&&p()}}(e=>{for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{e.preventDefault(),F(n.getAttribute("btn-value"))}))}})(n.digit_keys()),(e=>{for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{e.preventDefault(),F(n.getAttribute("btn-value"))}))}})(n.operator_keys()),n.btn_clear().addEventListener("click",(e=>{e.preventDefault(),F(n.btn_clear().getAttribute("btn-value"))})),n.btn_period().addEventListener("click",(e=>{e.preventDefault(),F(n.btn_period().getAttribute("btn-value"))})),n.btn_equal().addEventListener("click",(e=>{e.preventDefault(),F(n.btn_equal().getAttribute("btn-value"))}));const E="0123456789/*+-=.".split("");function T(e=!1){let t="Here are the key mappings you can use:\n\nTo share: 's' or 'S'\nTo clear: 'c' or 'C'\nTo enter numbers: '0' to '9'\nFor division: '/'\nFor multiplication: '*', 'x' or 'X'\nFor addition: '+'\nFor subtraction: '-'\nTo enter decimal point: '.'\nTo calculate: '=' or 'Enter'\nTo see key mappings: 'k' or 'K'\n";if(!e)return t;alert(t)}document.addEventListener("keypress",(e=>{e.preventDefault();for(let t=0;t<E.length;t++){const n=E[t];if(e.key===n)return void F(n)}-1!=="xX".indexOf(e.key)?F("*"):-1!=="cC".indexOf(e.key)?F("c"):"Enter"===e.key?F("="):-1!=="kK".indexOf(e.key)?T(!0):-1!=="sS".indexOf(e.key)&&new Function("try{Sharer.open();}catch(error){console.log(error);}")()})),window.addEventListener("load",(function(){setTimeout((()=>{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(alert(`Looks like you are on a desktop computer.\n\n${T()}`),alert("To view the key mappings again, simply press the 'k' or 'K' key."))}),500)}))}();
