!function(){"use strict";function e(e){return()=>document.getElementById(e)}function t(e){return()=>document.getElementsByClassName(e)}var n={node0:e("node0"),node1:e("node1"),node2:e("node2"),node3:e("node3"),node4:e("node4"),edgesFrom0:t("edges-from-0"),edgesFrom1:t("edges-from-1"),edgesFrom2:t("edges-from-2"),edgesFrom3:t("edges-from-3"),edgesFrom4:t("edges-from-4"),answer_container:e("answer-container"),number_keys:t("number-key"),btn_0:e("btn-0"),btn_1:e("btn-1"),btn_2:e("btn-2"),btn_3:e("btn-3"),btn_4:e("btn-4"),btn_5:e("btn-5"),btn_6:e("btn-6"),btn_7:e("btn-7"),btn_8:e("btn-8"),btn_9:e("btn-9"),btn_clear:e("btn-clear"),operator_keys:t("operator-key"),btn_div:e("btn-div"),btn_mult:e("btn-mult"),btn_sub:e("btn-sub"),btn_add:e("btn-add"),btn_period:e("btn-period"),btn_equal:e("btn-equal"),finite_automata_diagram:e("finite-automata-diagram"),warning_tag:e("warning-tag")};function s(e){"node".split("").forEach((t=>{"n"===t?-1!==e.indexOf(t)?(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove("disabled")})(n.number_keys()):(e=>{for(let t=0;t<e.length;t++)e[t].classList.add("disabled")})(n.number_keys()):"o"===t?-1!==e.indexOf(t)?(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove("disabled")})(n.operator_keys()):(e=>{for(let t=0;t<e.length;t++)e[t].classList.add("disabled")})(n.operator_keys()):"d"===t?-1!==e.indexOf(t)?n.btn_period().classList.remove("disabled"):n.btn_period().classList.add("disabled"):"e"===t&&(-1!==e.indexOf(t)?n.btn_equal().classList.remove("disabled"):n.btn_equal().classList.add("disabled"))}))}let r="highlighted-node",i="spotlight-node",o="highlighted-edge",d="spotlight-edge";function a(e){n[`node${e}`]().classList.add(r),(e=>{for(let t=0;t<e.length;t++)e[t].classList.add(o)})(n[`edgesFrom${e}`]()),function(e){n[`node${e}`]().classList.remove(i),(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove(d)})(n[`edgesFrom${e}`]())}(e)}function l(e){n[`node${e}`]().classList.remove(r),(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove(o)})(n[`edgesFrom${e}`]())}function c(e){for(let t=0;t<5;t++)t===e?a(e):l(t)}let u=0,b="",f="Accepted input: Numbers.",m=!1;function g(e=null){null!==e&&h(e),s("n"),u=0,c(u),f="Accepted input: Numbers."}function p(e){h(e),s("node"),u=1,c(u),f="Accepted input: Numbers, Operators, Period(.), Equal."}function _(e){h(e),s("noe"),u=3,c(u),f="Accepted input: Numbers, Operators, Equal."}function v(){let e=new Function(`return ${b};`)();"number"==typeof e&&isFinite(e)&&!isNaN(e)?(b=String(Number(e.toFixed(2))),L(b),s("o"),u=4,c(u),f="Accepted input: Operators."):(k(),alert("Mathematically impossible operation"))}function L(e=null){n.answer_container().innerHTML=null===e?"":`<span class="ans-element">${e}</span>`}function h(e){let t=document.createElement("span");var s;t.setAttribute("class","ans-element"),t.innerText="*"===e?"Ã—":e,(s=n.answer_container()).append(t),s.scrollLeft=s.scrollWidth,b+=e}function k(){b="",g(),L()}function y(){n.warning_tag().innerText=f,m=!0,setTimeout((()=>{n.warning_tag().innerText="",m=!1}),1e3);for(let e=0;e<8;e++)e%2==0?setTimeout((()=>{var e;n[`node${e=u}`]().classList.add(i),(e=>{for(let t=0;t<e.length;t++)e[t].classList.add(d)})(n[`edgesFrom${e}`]()),l(e)}),125*e):setTimeout((()=>{a(u)}),125*e)}function E(e){if(1===e.length&&!m){let t;-1!=="0123456789".indexOf(e)?t="n":-1!=="/*+-".indexOf(e)?t="o":"."===e?t="d":"="===e?t="e":"c"===e&&(t="c"),void 0!==t?"c"===t?k():0===u?"n"===t?p(e):y():1===u?"n"===t?p(e):"o"===t?g(e):"d"===t?(h(e),s("n"),u=2,c(u),f="Accepted input: Numbers."):"e"===t?v():y():2===u?"n"===t?_(e):y():3===u?"n"===t?_(e):"o"===t?g(e):"e"===t?v():y():4===u&&("o"===t?g(e):y()):void 0===t&&y()}}(e=>{for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{e.preventDefault(),E(n.getAttribute("btn-value"))}))}})(n.number_keys()),(e=>{for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{e.preventDefault(),E(n.getAttribute("btn-value"))}))}})(n.operator_keys()),n.btn_clear().addEventListener("click",(e=>{e.preventDefault(),E(n.btn_clear().getAttribute("btn-value"))})),n.btn_period().addEventListener("click",(e=>{e.preventDefault(),E(n.btn_period().getAttribute("btn-value"))})),n.btn_equal().addEventListener("click",(e=>{e.preventDefault(),E(n.btn_equal().getAttribute("btn-value"))})),document.addEventListener("keypress",(e=>{e.preventDefault(),"0123456789/*+-=.".split("").forEach((t=>{e.key===t&&E(t)})),-1!=="xX".indexOf(e.key)&&E("*"),-1!=="cC".indexOf(e.key)&&E("c"),"Enter"===e.key&&E("=")}))}();