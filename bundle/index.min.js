!function(){"use strict";function e(e){return()=>document.getElementById(e)}function t(e){return()=>document.getElementsByClassName(e)}var n={node0:e("node0"),node1:e("node1"),node2:e("node2"),node3:e("node3"),node4:e("node4"),edgesFrom0:t("edges-from-0"),edgesFrom1:t("edges-from-1"),edgesFrom2:t("edges-from-2"),edgesFrom3:t("edges-from-3"),edgesFrom4:t("edges-from-4"),answer_container:e("answer-container"),digit_keys:t("digit-key"),btn_0:e("btn-0"),btn_1:e("btn-1"),btn_2:e("btn-2"),btn_3:e("btn-3"),btn_4:e("btn-4"),btn_5:e("btn-5"),btn_6:e("btn-6"),btn_7:e("btn-7"),btn_8:e("btn-8"),btn_9:e("btn-9"),btn_clear:e("btn-clear"),operator_keys:t("operator-key"),btn_div:e("btn-div"),btn_mult:e("btn-mult"),btn_sub:e("btn-sub"),btn_add:e("btn-add"),btn_period:e("btn-period"),btn_equal:e("btn-equal"),finite_automata_diagram:e("finite-automata-diagram"),warning_tag:e("warning-tag")};function i(e){"dope".split("").forEach((t=>{"d"===t?-1!==e.indexOf(t)?(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove("disabled")})(n.digit_keys()):(e=>{for(let t=0;t<e.length;t++)e[t].classList.add("disabled")})(n.digit_keys()):"o"===t?-1!==e.indexOf(t)?(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove("disabled")})(n.operator_keys()):(e=>{for(let t=0;t<e.length;t++)e[t].classList.add("disabled")})(n.operator_keys()):"p"===t?-1!==e.indexOf(t)?n.btn_period().classList.remove("disabled"):n.btn_period().classList.add("disabled"):"e"===t&&(-1!==e.indexOf(t)?n.btn_equal().classList.remove("disabled"):n.btn_equal().classList.add("disabled"))}))}let d="highlighted-node",s="spotlight-node",o="highlighted-edge",r="spotlight-edge";function a(e){n[`node${e}`]().classList.add(d),(e=>{for(let t=0;t<e.length;t++)e[t].classList.add(o)})(n[`edgesFrom${e}`]()),function(e){n[`node${e}`]().classList.remove(s),(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove(r)})(n[`edgesFrom${e}`]())}(e)}function l(e){n[`node${e}`]().classList.remove(d),(e=>{for(let t=0;t<e.length;t++)e[t].classList.remove(o)})(n[`edgesFrom${e}`]())}function c(e){for(let t=0;t<5;t++)t===e?a(e):l(t)}let b=0,u="",g=["digits"],f=!1;function m(e=null){null!==e&&L(e),i("d"),b=0,c(b),g=["digits"]}function _(e){L(e),i("dope"),b=1,c(b),g=["digits","operators","period(.)","equal"]}function p(e){L(e),i("doe"),b=3,c(b),g=["digits","operators","equal"]}function v(){let e=new Function(`return ${u};`)();"number"==typeof e&&isFinite(e)&&!isNaN(e)?(u=String(Number(e.toFixed(6))),h(u),i("o"),b=4,c(b),g=["operators"]):(k(),alert("Mathematically impossible operation"))}function h(e=null){n.answer_container().innerHTML=null===e?"":`<span class="ans-element">${e}</span>`}function L(e){let t=document.createElement("span");var i;t.setAttribute("class","ans-element"),t.innerText="*"===e?"Ã—":e,(i=n.answer_container()).append(t),i.scrollLeft=i.scrollWidth,u+=e}function k(){u="",m(),h()}function y(){var e;n.warning_tag().innerText=`Expected input${1===(e=g).length?" is":"s are"} ${e.join(", ")}${1===e.length?" only":""}.`,f=!0,setTimeout((()=>{n.warning_tag().innerText="",f=!1}),1500);for(let e=0;e<12;e++)e%2==0?setTimeout((()=>{var e;n[`node${e=b}`]().classList.add(s),(e=>{for(let t=0;t<e.length;t++)e[t].classList.add(r)})(n[`edgesFrom${e}`]()),l(e)}),125*e):setTimeout((()=>{a(b)}),125*e)}function x(e){if(1===e.length&&!f){let t;-1!=="0123456789".indexOf(e)?t="d":-1!=="/*+-".indexOf(e)?t="o":"."===e?t="p":"="===e?t="e":"c"===e&&(t="c"),void 0!==t?"c"===t?k():0===b?"d"===t?_(e):y():1===b?"d"===t?_(e):"o"===t?m(e):"p"===t?(L(e),i("d"),b=2,c(b),g=["digits"]):"e"===t?v():y():2===b?"d"===t?p(e):y():3===b?"d"===t?p(e):"o"===t?m(e):"e"===t?v():y():4===b&&("o"===t?m(e):y()):void 0===t&&y()}}(e=>{for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{e.preventDefault(),x(n.getAttribute("btn-value"))}))}})(n.digit_keys()),(e=>{for(let t=0;t<e.length;t++){const n=e[t];n.addEventListener("click",(e=>{e.preventDefault(),x(n.getAttribute("btn-value"))}))}})(n.operator_keys()),n.btn_clear().addEventListener("click",(e=>{e.preventDefault(),x(n.btn_clear().getAttribute("btn-value"))})),n.btn_period().addEventListener("click",(e=>{e.preventDefault(),x(n.btn_period().getAttribute("btn-value"))})),n.btn_equal().addEventListener("click",(e=>{e.preventDefault(),x(n.btn_equal().getAttribute("btn-value"))}));const $="0123456789/*+-=.".split("");document.addEventListener("keypress",(e=>{e.preventDefault();for(let t=0;t<$.length;t++){const n=$[t];if(e.key===n)return void x(n)}-1!=="xX".indexOf(e.key)?x("*"):-1!=="cC".indexOf(e.key)?x("c"):"Enter"===e.key&&x("=")}))}();